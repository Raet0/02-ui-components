import{a as E,b as T,e as M,k,l as S}from"./chunk-N2RMBBIC.js";import{a as H}from"./chunk-MBPHXU5K.js";import"./chunk-ZZNNUSDG.js";import{Ha as C,Ra as _,Sa as f,Va as u,Wa as t,X as x,Xa as n,Y as p,Ya as h,ab as D,bb as s,cb as m,db as P,ea as g,fb as i,hb as b,ib as v,jb as y,kb as w,sa as l}from"./chunk-4PHBZPLT.js";function N(d,a){d&1&&(t(0,"div",4)(1,"div",21)(2,"h3",22),i(3,"Procesando..."),n(),t(4,"p",23),i(5,"Por favor espera mientras guardamos tu texto."),n(),t(6,"div",24),h(7,"div",25),n()()())}function V(d,a){if(d&1){let r=D();t(0,"div",4)(1,"div",26)(2,"div",8)(3,"h3",27),i(4,"Guardando Texto"),n(),t(5,"button",28),s("click",function(){x(r);let o=m();return p(o.closeModal())}),i(6," \xD7 "),n()(),t(7,"div",23)(8,"p",29),i(9,"Guardando tu documento..."),n(),t(10,"div",30),h(11,"div",31),n(),t(12,"p",32),i(13),n()(),t(14,"div",33)(15,"button",34),s("click",function(){x(r);let o=m();return p(o.cancelSave())}),i(16," \u274C Cancelar "),n(),t(17,"button",35),s("click",function(){x(r);let o=m();return p(o.saveInBackground())}),i(18," \u{1F504} Continuar en segundo plano "),n()()()()}if(d&2){let r=m();l(11),P("width",r.saveProgress(),"%"),l(2),b("",r.saveProgress(),"% completado")}}var I=class d{content="";showModal=g(!1);saveProgress=g(0);history=g([""]);currentIndex=g(0);onTextChange(){let a=this.history().slice(0,this.currentIndex()+1);a.push(this.content),this.history.set(a),this.currentIndex.set(a.length-1)}canUndo(){return this.currentIndex()>0}canRedo(){return this.currentIndex()<this.history().length-1}undo(){this.canUndo()&&(this.currentIndex.update(a=>a-1),this.content=this.history()[this.currentIndex()])}redo(){this.canRedo()&&(this.currentIndex.update(a=>a+1),this.content=this.history()[this.currentIndex()])}saveText(){this.showModal.set(!0),this.saveProgress.set(0);let a=setInterval(()=>{let r=this.saveProgress();r<100?this.saveProgress.set(Math.min(r+20,100)):(clearInterval(a),setTimeout(()=>this.closeModal(),1e3))},500)}closeModal(){this.showModal.set(!1),this.saveProgress.set(0)}cancelSave(){this.closeModal()}saveInBackground(){this.showModal.set(!1)}clearText(){confirm("\xBFEst\xE1s seguro de que quieres limpiar todo el texto?")&&(this.content="",this.onTextChange())}loadTemplate(){this.content=`Plantilla de ejemplo:

1. Introducci\xF3n
2. Desarrollo
3. Conclusiones`,this.onTextChange()}static \u0275fac=function(r){return new(r||d)};static \u0275cmp=C({type:d,selectors:[["app-h3-page"]],decls:37,vars:13,consts:[[3,"numeroHeuristica","titulo","concepto"],[1,"p-6","max-w-md","mx-auto","bg-white","rounded","shadow"],[1,"text-xl","mb-4"],["placeholder","Escribe aqu\xED...",1,"w-full","h-32","p-3","border","rounded","resize-none",3,"ngModelChange","ngModel"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50"],[1,"mt-4"],[1,"bg-blue-500","text-white","px-4","py-2","rounded",3,"click"],[1,"p-6","max-w-2xl","mx-auto","bg-white","rounded-xl","shadow-lg","border"],[1,"flex","items-center","justify-between","mb-4"],[1,"flex","items-center"],[1,"text-2xl","mr-3"],[1,"text-xl","font-semibold"],[1,"flex","space-x-2"],["title","Deshacer (Ctrl+Z)",1,"px-3","py-2","text-sm","bg-gray-100","hover:bg-gray-200","disabled:bg-gray-50","disabled:text-gray-400","rounded-lg","border","transition-colors",3,"click","disabled"],["title","Rehacer (Ctrl+Y)",1,"px-3","py-2","text-sm","bg-gray-100","hover:bg-gray-200","disabled:bg-gray-50","disabled:text-gray-400","rounded-lg","border","transition-colors",3,"click","disabled"],["placeholder","Escribe aqu\xED... Usa Ctrl+Z para deshacer y Ctrl+Y para rehacer",1,"w-full","h-40","p-4","border-2","border-gray-200","rounded-lg","resize-none","focus:border-blue-500","focus:outline-none",3,"ngModelChange","input","ngModel"],[1,"mt-2","text-sm","text-gray-600","flex","justify-between"],[1,"mt-6","flex","space-x-3"],[1,"px-6","py-3","bg-blue-600","hover:bg-blue-700","disabled:bg-gray-300","text-white","rounded-lg","font-medium","transition-colors",3,"click","disabled"],[1,"px-6","py-3","bg-red-100","hover:bg-red-200","text-red-700","disabled:bg-gray-100","disabled:text-gray-400","rounded-lg","font-medium","transition-colors",3,"click","disabled"],[1,"px-6","py-3","bg-green-100","hover:bg-green-200","text-green-700","rounded-lg","font-medium","transition-colors",3,"click"],[1,"bg-white","p-6","rounded","max-w-sm"],[1,"text-lg","mb-4"],[1,"mb-4"],[1,"flex","justify-center"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-blue-600"],[1,"bg-white","p-6","rounded-xl","max-w-md","w-full","mx-4","border"],[1,"text-lg","font-semibold"],[1,"text-gray-400","hover:text-gray-600","text-xl","font-bold","w-8","h-8","flex","items-center","justify-center","rounded-full","hover:bg-gray-100",3,"click"],[1,"mb-2"],[1,"w-full","bg-gray-200","rounded-full","h-2"],[1,"bg-blue-600","h-2","rounded-full","transition-all","duration-300"],[1,"text-sm","text-gray-600","mt-1"],[1,"flex","space-x-3"],[1,"flex-1","px-4","py-2","bg-gray-100","hover:bg-gray-200","text-gray-700","rounded-lg","transition-colors",3,"click"],[1,"flex-1","px-4","py-2","bg-blue-100","hover:bg-blue-200","text-blue-700","rounded-lg","transition-colors",3,"click"]],template:function(r,e){r&1&&(h(0,"header-heuristica",0),t(1,"div",1)(2,"h2",2),i(3,"Editor de Texto"),n(),t(4,"textarea",3),w("ngModelChange",function(c){return y(e.content,c)||(e.content=c),c}),i(5,"      "),n(),_(6,N,8,0,"div",4),t(7,"div",5)(8,"button",6),s("click",function(){return e.saveText()}),i(9," Guardar Texto "),n()()(),t(10,"div",7)(11,"div",8)(12,"div",9)(13,"span",10),i(14,"\u{1F4DD}"),n(),t(15,"h2",11),i(16,"Editor de Texto"),n()(),t(17,"div",12)(18,"button",13),s("click",function(){return e.undo()}),i(19," \u21B6 Deshacer "),n(),t(20,"button",14),s("click",function(){return e.redo()}),i(21," \u21B7 Rehacer "),n()()(),t(22,"textarea",15),w("ngModelChange",function(c){return y(e.content,c)||(e.content=c),c}),s("input",function(){return e.onTextChange()}),i(23,"      "),n(),t(24,"div",16)(25,"span"),i(26),n(),t(27,"span"),i(28),n()(),_(29,V,19,3,"div",4),t(30,"div",17)(31,"button",18),s("click",function(){return e.saveText()}),i(32," \u{1F4BE} Guardar Texto "),n(),t(33,"button",19),s("click",function(){return e.clearText()}),i(34," \u{1F5D1}\uFE0F Limpiar Todo "),n(),t(35,"button",20),s("click",function(){return e.loadTemplate()}),i(36," \u{1F4C4} Cargar Plantilla "),n()()()),r&2&&(u("numeroHeuristica","3")("titulo","Control y Libertad del Usuario")("concepto","Los usuarios necesitan sentir que controlan el sistema. Necesitan una salida de emergencia claramente marcada para salir de estados no deseados sin tener que pasar por di\xE1logos extensos."),l(4),v("ngModel",e.content),l(2),f(e.showModal()?6:-1),l(12),u("disabled",!e.canUndo()),l(2),u("disabled",!e.canRedo()),l(2),v("ngModel",e.content),l(4),b("Cambios: ",e.history().length),l(2),b("Posici\xF3n: ",e.currentIndex()+1),l(),f(e.showModal()?29:-1),l(2),u("disabled",e.content.length===0),l(2),u("disabled",e.content.length===0))},dependencies:[H,S,E,T,k,M],encapsulation:2,changeDetection:0})};export{I as H3Page};
